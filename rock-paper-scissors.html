<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <p>Rock Paper Scissors</p>
        <button onclick="
        playGame('rock');
        ">Rock</button>

        <button onclick="
            playGame('paper');
        ">Paper</button>

        <button onclick="
          playGame('scissors');
        ">Scissors</button>

        <button onclick="
          scores.wins = 0;
          scores.losses = 0;
          scores.ties = 0;
         alert('The game have been reset')
         localStorage.removeItem('score');
        ">Reset Scores</button>
          
        <script>
          const scores = JSON.parse(localStorage.getItem('score'));

          function playGame(playerMove) {
            const systemMove = selectSystemMove();
              
            let result = '';
            
            if (playerMove === 'scissors') {
                if (systemMove === 'rock') {
                  result = 'you lose';
              } else if (systemMove === 'paper') {
                  result = 'you win';
              } else if (systemMove === 'scissors') {
                  result = 'Tie';
              }

            } else if (playerMove === 'paper') {
              if (systemMove === 'rock') {
                  result = 'you win';
              } else if (systemMove === 'paper') {
                  result = 'Tie';
              } else if (systemMove === 'scissors') {
                  result = 'you lose';
              }
            } else if (playerMove === 'rock') {
              if (systemMove === 'rock') {
                  result = 'Tie';
              } else if (systemMove === 'paper') {
                  result = 'you lose';
              } else if (systemMove === 'scissors') {
                  result = 'you win';
              }
            }
            
            if(result === 'you win') {
              scores.wins += 1;
            } else if (result === 'you lose') {
              scores.losses += 1;
            } else if (result === 'Tie') {
              scores.ties += 1;
            }
              localStorage.setItem('score', JSON.stringify(scores));

            alert(`you picked ${playerMove}. computer picked ${systemMove}. ${result}
Wins: ${scores.wins}, Losses: ${scores.losses}, Ties: ${scores.ties}`);
        
            }

            function selectSystemMove() {
                const randomNum = Math.random();

                let systemMove = '';

                if (randomNum >= 0 && randomNum < 1/3) {
                    systemMove = 'rock';
                } else if (randomNum >= 1/3 && randomNum < 2/3) {
                    systemMove = 'paper';
                } else if (randomNum >= 2/3 && randomNum < 1) {
                    systemMove = 'scissors';
                }

                return systemMove;
            }
        </script>
    </body>
</html>